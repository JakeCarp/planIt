var ce=Object.defineProperty;var H=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var q=(a,e,o)=>e in a?ce(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,U=(a,e)=>{for(var o in e||(e={}))ie.call(e,o)&&q(a,o,e[o]);if(H)for(var o of H(e))le.call(e,o)&&q(a,o,e[o]);return a};var z=(a,e,o)=>(q(a,typeof e!="symbol"?e+"":e,o),o);import{r as de,c as g,a as x,o as u,b as _,d as s,e as j,F as w,f as ue,g as _e,h as O,i as me,S as F,j as pe,u as $,w as b,v as G,t as m,k as fe,l as v,p as P,m as S,n as T,q as D,s as C,x as N,y as W,M as ve,z as he,A as ge,B as be,C as ke,D as V,E as J,O as ye,G as xe}from"./vendor.21ee2239.js";const we=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}};we();const i=de({user:{},account:{},projects:[],sprints:[],tasks:[],notes:[],activeProject:{},activeTask:{}});var k=(a,e)=>{for(const[o,t]of e)a[o]=t;return a};const je={name:"App",setup(){return{appState:g(()=>i)}}},Te={class:"background"};function Ce(a,e,o,t,n,c){const r=x("Navbar"),l=x("router-view"),y=x("ProjectFormModal");return u(),_(w,null,[s("header",null,[j(r)]),s("main",Te,[j(l)]),s("footer",null,[j(y)])],64)}var Pe=k(je,[["render",Ce]]);const K=window.location.origin.includes("localhost"),Y=K?"http://localhost:3000":"",Se="jacob-c-dev.us.auth0.com",Ee="d755JP8Z8JRCOHv46AG86TBlBaW1NvM6",Ae="https://jacob-c-dev.com",Ie="modulepreload",Q={},Oe="/",R=function(e,o){return!o||o.length===0?e():Promise.all(o.map(t=>{if(t=`${Oe}${t}`,t in Q)return;Q[t]=!0;const n=t.endsWith(".css"),c=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${c}`))return;const r=document.createElement("link");if(r.rel=n?"stylesheet":Ie,n||(r.as="script",r.crossOrigin=""),r.href=t,document.head.appendChild(r),n)return new Promise((l,y)=>{r.addEventListener("load",l),r.addEventListener("error",y)})})).then(()=>e())};function $e(a){switch(a){case"./pages/AboutPage.vue":return R(()=>import("./AboutPage.e0a49056.js"),["assets/AboutPage.e0a49056.js","assets/vendor.21ee2239.js"]);case"./pages/HomePage.vue":return R(()=>import("./HomePage.b101be83.js"),["assets/HomePage.b101be83.js","assets/HomePage.c261f81f.css","assets/vendor.21ee2239.js"]);case"./pages/LandingPage.vue":return R(()=>import("./LandingPage.2f31f56c.js"),["assets/LandingPage.2f31f56c.js","assets/LandingPage.9bdd33b4.css","assets/vendor.21ee2239.js"]);case"./pages/ProjectPage.vue":return R(()=>import("./ProjectPage.92059e9c.js"),["assets/ProjectPage.92059e9c.js","assets/ProjectPage.b3dbbd41.css","assets/vendor.21ee2239.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+a)))})}}function E(a){return()=>$e(`./pages/${a}.vue`)}const De=[{path:"/",name:"Landing",component:E("LandingPage")},{path:"/home",name:"Home",component:E("HomePage"),beforeEnter:O},{path:"/about",name:"About",component:E("AboutPage"),beforeEnter:O},{path:"/project/:projectId",name:"Project",component:E("ProjectPage"),beforeEnter:O},{path:"/account",name:"Account",component:E("AccountPage"),beforeEnter:O}],Z=ue({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:_e(),routes:De});function A(a,e){if(K)console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(a){case"log":case"assert":return}console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const d={log(){A("log",arguments)},error(){A("error",arguments)},warn(){A("warn",arguments)},assert(){A("assert",arguments)},trace(){A("trace",arguments)}},p=me.create({baseURL:Y,timeout:8e3});class Ne{async getAccount(){try{const e=await p.get("/account");i.account=e.data}catch(e){d.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async editAccount(e){const o=await p.put("/account",e);d.log(o.data),i.account=o.data}}const X=new Ne;class Re{async getAll(){const e=await p.get("api/projects");d.log("GET ALL PROJECTS",e.data),i.projects=e.data}async getById(e){const o=await p.get("api/projects/"+e);d.log("GET BY ID PROJECTS",o.data),i.activeProject=o.data}async createProject(e){const o=await p.post("api/projects",e);d.log("CREATE PROJECT",o.data),i.projects.unshift(o.data)}async editProject(e){const o=await p.put("api/projects/"+e.id,e);d.log("EDIT PROJECT",o.data);let t=o.data;i.activeProject=t;let n=i.projects.findIndex(c=>c.id===t.id);i.projects.splice(n,1,t)}async removeProject(e){const o=await p.delete("api/projects/"+e);d.log("REMOVE PROJECT",o.data),i.projects=i.projects.filter(t=>t.id!==e)}}const M=new Re;class f{static async confirm(e="Are you sure?",o="You won't be able to revert this!",t="warning",n="Yes, delete it!"){try{return!!(await F.fire({title:e,text:o,icon:t,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:n})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",t="top-end",n=3e3,c=!0){F.fire({title:e,icon:o,position:t,timer:n,timerProgressBar:c,toast:!0,showConfirmButton:!1})}}const Me={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class Le{constructor(e=!1,o=Y){}on(e,o){var t;return(t=this.socket)==null||t.on(e,o.bind(this)),this}onConnected(e){d.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){d.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(Me.authenticate,e)}onError(e){d.error("[SOCKET_ERROR]",e)}enqueue(e,o){d.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){d.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class Be extends Le{constructor(){super();this.on("error",this.onError)}onError(e){f.toast(e.message,"error")}}const ee=new Be,h=pe({domain:Se,clientId:Ee,audience:Ae,useRefreshTokens:!0,onRedirectCallback:a=>{Z.push(a&&a.targetUrl?a.targetUrl:window.location.pathname)}});h.on(h.AUTH_EVENTS.AUTHENTICATED,async function(){p.defaults.headers.authorization=h.bearer,p.interceptors.request.use(qe),i.user=h.user,await X.getAccount(),ee.authenticate(h.bearer),M.getAll()});async function qe(a){if(!h.isAuthenticated)return a;const e=h.identity.exp*1e3,o=e<Date.now(),t=e<Date.now()+1e3*60*60*12;return o?await h.loginWithPopup():t&&(await h.getTokenSilently(),p.defaults.headers.authorization=h.bearer,ee.authenticate(h.bearer)),a}var Ue="/assets/villainism.c41a2f80.png";const Ve={setup(){const a=$();return{router:a,user:g(()=>i.user),account:g(()=>i.account),async login(){await h.loginWithPopup(),a.push({name:"Home"})},async logout(){h.logout({returnTo:window.location.origin})}}}},He=a=>(P("data-v-2548fdfc"),a=a(),S(),a),ze={key:0,class:"navbar navbar-expand-lg navbar-dark backbar px-3 border1 border-4 elevation-3 d-flex justi"},Fe={class:"selectable1","data-bs-toggle":"offcanvas",href:"#offcanvasExample",role:"button","aria-label":"Profile"},Ge={class:"ms-4"},We={class:"d-flex"},Je={class:"d-flex flex-column"},Ke={class:"me-3 mb-0 text-white text-end"},Ye={class:"text-white me-3 mb-0 text-end"},Qe=["src"],Ze=He(()=>s("div",{class:"ms-3 d-flex flex-column align-items-center logo-container"},[s("img",{alt:"logo",src:Ue,height:"60",class:"logo"})],-1)),Xe={key:1};function et(a,e,o,t,n,c){const r=x("router-link"),l=x("ProfileCanvas");return u(),_(w,null,[t.user.isAuthenticated?(u(),_("nav",ze,[s("div",Fe,[b(s("div",Ge,[s("div",We,[s("div",Je,[s("h5",Ke,m(t.account.name),1),s("p",Ye,m(t.account.email),1)]),s("img",{src:t.account.picture,alt:"user photo",height:"50",width:"50",class:"picrounded elevation-2"},null,8,Qe)])],512),[[G,t.user.isAuthenticated]])]),j(r,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:fe(()=>[Ze]),_:1}),t.user.isAuthenticated?(u(),_("i",{key:0,onClick:e[0]||(e[0]=(...y)=>t.logout&&t.logout(...y)),class:"mdi-18px selectable border border-dark border-3 fs-5 text-white p-1 px-2 pb-2 me-4"}," Logout ")):(u(),_("div",Xe,[b(s("i",{onClick:e[1]||(e[1]=(...y)=>t.login&&t.login(...y)),class:"mdi-18px selectable fs-5 border border-dark border-3 p-1 px-2 pb-2 me-4 text-light"}," Login ",512),[[G,t.user.isAuthenticated]])]))])):v("",!0),j(l)],64)}var tt=k(Ve,[["render",et],["__scopeId","data-v-2548fdfc"]]),ot=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tt});class st{async getAll(e){const o=await p.get("api/projects/"+e+"/sprints");d.log("SPRINTS GET ALL",o.data),i.sprints=o.data}async createSprint(e,o){const t=await p.post("api/projects/"+e+"/sprints",o);d.log("POST SPRINT",t.data),i.sprints.unshift(t.data),this.getAll(e)}async editSprint(e,o,t){const n=await p.put("api/projects/"+o+"/sprints/"+t,e);d.log("PUT SPRINT",n.data);let c=n.data,r=i.sprints.findIndex(l=>l.id===c.id);i.sprints.splice(r,1,c)}async removeSprint(e,o){const t=await p.delete("api/projects/"+e+"/sprints/"+o);d.log("REMOVE SPRINT",t.data);let n=i.sprints.filter(c=>c.id!==o);i.sprints=n,this.getAll(e)}}const at=new st;class nt{constructor(){z(this,"async")}async getAll(e){const o=await p.get("api/projects/"+e+"/tasks");d.log(o.data),i.tasks=o.data}async createTask(e,o){const t=await p.post("api/projects/"+e+"/tasks",o);d.log(t.data),i.tasks.unshift(t.data)}async editTask(e,o,t){const n=await p.put("api/projects/"+o+"/tasks/"+t,e);d.log(n.data);let c=n.data,r=i.tasks.findIndex(l=>l.id===c.id);i.tasks.splice(r,1,c)}async removeTask(e,o){const t=await p.delete("api/projects/"+e+"/tasks/"+o);d.log(t.data),i.tasks=i.tasks.filter(n=>n.id!==o)}}const L=new nt;class rt{async createNote(e,o){const t=await p.post("api/projects/"+o+"/notes",e);d.log(t.data),i.notes.unshift(t.data)}async getAll(e){const o=await p.get("api/projects/"+e+"/notes");d.log(o.data),i.notes=o.data}async remove(e,o){const t=await p.delete("api/projects/"+e+"/notes/"+o);d.log(t),i.notes=i.notes.filter(n=>n.id!==o)}}const te=new rt;const ct={setup(){let a=T(!0),e=T({});const o=$();return D(),{router:o,editProfile:e,edit:a,account:g(()=>i.account),projects:g(()=>i.projects),async editAccount(){try{await X.editAccount(e.value),a.value=!a.value}catch(t){d.log(t),f.toast(t.message,"error")}},routeTo(t){d.log(t),o.push({name:"Project",params:{projectId:t}})}}}},B=a=>(P("data-v-182ab277"),a=a(),S(),a),it={class:"ProfileCanvas"},lt={class:"offcanvas offcanvas-start background",tabindex:"-1",id:"offcanvasExample","aria-labelledby":"offcanvasLabel"},dt=B(()=>s("div",{class:"offcanvas-header"},[s("h3",{class:"offcanvas-title",id:"offcanvasLabel"},"Profile"),s("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),ut={class:"offcanvas-body"},_t={class:"d-flex justify-content-center flex-column align-items-center"},mt={key:0},pt=["src"],ft={key:1,class:"text-center mb-3"},vt={class:"mt-2"},ht={class:"mt-2"},gt={key:0},bt={class:"d-flex flex-column mb-3 mt-4"},kt={class:"input-group"},yt=B(()=>s("span",{class:"input-group-text border-dark"},"Vilain Name",-1)),xt={class:"d-flex flex-column"},wt={class:"input-group"},jt=B(()=>s("span",{class:"input-group-text border-dark"},"Picture URL",-1)),Tt={class:"d-flex justify-content-center mt-3"},Ct={class:"card projects border border-3 scroll container"},Pt=B(()=>s("h3",{class:"my-2"},"Plots:",-1)),St=["onClick"],Et={class:"p-2 m-0 ms-2 spacing textcontent"};function At(a,e,o,t,n,c){return u(),_("div",it,[s("div",lt,[dt,s("div",ut,[s("div",_t,[s("i",{onClick:e[0]||(e[0]=r=>t.edit=!t.edit),"aria-label":"edit profile",class:"mdi mdi-pencil selectable1 align-self-end"},"Edit Profile"),t.edit===!0?(u(),_("div",mt,[s("img",{src:t.account.picture,alt:"user photo",height:"120",width:"120",class:"picrounded elevation-3"},null,8,pt)])):v("",!0),t.edit===!0?(u(),_("div",ft,[s("h4",vt,m(t.account.name),1),s("h5",ht,m(t.account.email),1)])):v("",!0)]),t.edit===!1?(u(),_("div",gt,[s("form",null,[s("div",bt,[s("div",kt,[yt,b(s("input",{class:"form-control border-dark",type:"text",placeholder:"",name:"name","onUpdate:modelValue":e[1]||(e[1]=r=>t.editProfile.name=r)},null,512),[[C,t.editProfile.name]])])]),s("div",xt,[s("div",wt,[jt,b(s("input",{class:"form-control border-dark",type:"text",placeholder:"",name:"pic-url","onUpdate:modelValue":e[2]||(e[2]=r=>t.editProfile.picture=r)},null,512),[[C,t.editProfile.picture]])])]),s("div",Tt,[t.edit===!1?(u(),_("i",{key:0,type:"submit",onClick:e[3]||(e[3]=(...r)=>t.editAccount&&t.editAccount(...r)),class:"mdi mdi-content-save selectable1 align-self-end border p-1 rounded bg-light"}," Save ")):v("",!0)])])])):v("",!0),s("div",null,[s("div",Ct,[Pt,(u(!0),_(w,null,N(t.projects,r=>(u(),_("div",{class:"card projstrip grow2 mt-3 elevation-3 selectable1 border-0 grow2",key:r.id},[s("div",{onClick:l=>t.routeTo(r.id),class:"d-flex justify-content-center"},[s("div",null,[s("h6",Et,m(r.name),1)])],8,St)]))),128))])])])])])}var It=k(ct,[["render",At],["__scopeId","data-v-182ab277"]]),Ot=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:It});const $t={props:{project:{type:Object,required:!0}},setup(a){const e=$();return{account:g(()=>i.account),router:e,async removeProject(){try{await f.confirm()&&(await M.removeProject(a.project.id),f.toast("Project Removed","success"),e.push({name:"Home"}))}catch(o){d.error(o),f.toast(o.message,"error")}}}}},oe=a=>(P("data-v-6c9227c0"),a=a(),S(),a),Dt={class:"row"},Nt={class:"d-flex justi"},Rt={class:"codefont fontbig"},Mt={class:"dropdown ms-3"},Lt={key:0,"aria-label":"dropdown button",id:"dropDownMenu","data-bs-toggle":"dropdown","aria-expanded":"false",class:"dropdown-toggle btn btn-outline-primary"},Bt=oe(()=>s("i",{class:"mdi mdi-menu"},null,-1)),qt=[Bt],Ut={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Vt=["data-bs-target"],Ht=oe(()=>s("i",{class:"mdi mdi-24px mdi-pencil coloredit selectable1"}," Edit",-1)),zt=[Ht],Ft={class:"dropdown-item"},Gt={class:"codefont fontmedium"};function Wt(a,e,o,t,n,c){const r=x("projectFormModal");return u(),_(w,null,[s("div",Dt,[s("div",Nt,[s("h1",Rt,m(o.project.name),1),s("div",Mt,[o.project.creatorId===t.account.id?(u(),_("button",Lt,qt)):v("",!0),s("ul",Ut,[s("li",{"data-bs-toggle":"modal","data-bs-target":"#a"+o.project.id+"a",title:"Edit Plot",class:"dropdown-item"},zt,8,Vt),s("li",Ft,[s("i",{onClick:e[0]||(e[0]=(...l)=>t.removeProject&&t.removeProject(...l)),title:"Remove Plot",class:"mdi mdi-24px mdi-trash-can selectable1 text-danger"}," Delete")])])])]),s("div",null,[s("p",Gt,m(o.project.description),1)])]),j(r,{project:o.project},null,8,["project"])],64)}var Jt=k($t,[["render",Wt],["__scopeId","data-v-6c9227c0"]]),Kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jt});const Yt={props:{project:{type:Object}},setup(a){const e=T({});W(()=>{e.value=U({},a.project)});const o=$();return{router:o,projectData:e,async handleSubmit(){try{e.value.id?(await M.editProject(e.value),f.toast("Plot Edited","success")):(await M.createProject(e.value),f.toast("Plot Created","success"),e.value={},o.push({name:"Project",params:{projectId:i.projects[0].id}}));const t=document.getElementById("aundefineda");ve.getOrCreateInstance(t).hide()}catch(t){d.error(t),f.toast(t.message,"error")}}}}},Qt={class:"projectFormModal"},Zt=["id"],Xt={class:"modal-dialog",role:"document"},eo={class:"modal-content"},to={class:"modal-header"},oo={class:"modal-title"},so=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ao={class:"modal-body"},no=s("p",{class:"m-0"},"Name:",-1),ro=s("p",{class:"m-0"},"Description:",-1),co=s("div",null,null,-1),io={class:"modal-footer"},lo=s("button",{type:"button",class:"btn btn-secondary text-white","data-bs-dismiss":"modal"}," Close ",-1),uo={type:"submit",form:"projForm",class:"btn btn-primary text-white","data-bs-dismiss":"modal"};function _o(a,e,o,t,n,c){return u(),_("div",Qt,[s("div",{id:"a"+t.projectData.id+"a",class:"modal fade",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},[s("div",Xt,[s("div",eo,[s("div",to,[s("h5",oo,m(t.projectData.id?"Edit Plot":"New Plot"),1),so]),s("div",ao,[s("form",{id:"projForm",onSubmit:e[2]||(e[2]=he((...r)=>t.handleSubmit&&t.handleSubmit(...r),["prevent"]))},[no,b(s("input",{required:"","onUpdate:modelValue":e[0]||(e[0]=r=>t.projectData.name=r),class:"m-2 border-dark",type:"text"},null,512),[[C,t.projectData.name]]),ro,b(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.projectData.description=r),class:"m-2 border-dark",cols:"50",required:""},null,512),[[C,t.projectData.description]]),co],32)]),s("div",io,[lo,s("button",uo,m(t.projectData.id?"Save":"Create"),1)])])])],8,Zt)])}var mo=k(Yt,[["render",_o]]),po=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mo});const fo={props:{sprint:{type:Object,required:!0},index:{type:Number,required:!0}},setup(a){const e=D(),o=T({});let t=T(!0);return d.log(o),{account:g(()=>i.account),taskData:o,addTaskBtn:t,tasks:g(()=>i.tasks.filter(n=>n.sprintId===a.sprint.id)),async createTask(){try{t.value=!0,d.log(o.value),o.value.sprintId=a.sprint.id,await L.createTask(e.params.projectId,o.value),o.value={}}catch(n){d.error(n),f.toast(n.message,"error")}},async moveTask(){try{d.log("editing task")}catch(n){d.error(n),f.toast(n.message,"error")}},countTotalWeight(n){let c=0;return n.forEach(r=>{c+=r.weight}),c},async removeSprint(){try{await f.confirm()&&(await at.removeSprint(e.params.projectId,a.sprint.id),f.toast("Deleted Scheme"))}catch(n){d.error(n),f.toast(n.message,"error")}}}}},se=a=>(P("data-v-6e0d8d10"),a=a(),S(),a),vo={class:"sprints"},ho={class:"accordion-item collapsestyle mt-1"},go={class:"accordion-header collapsestyle d-flex"},bo={class:"wid d-flex justify-content-between align-items-center"},ko=["data-bs-target"],yo={class:"codefont mx-3 mt-1 d-flex align-items-center"},xo={class:"p-1 f-16 m-0"},wo={key:0,class:"mdi mdi-account-group mdi-18px align-self-center",title:"Total Goons Needed"},jo={class:"ms-2 codefont"},To={class:"d-flex"},Co={class:"d-flex justify-content-center"},Po={key:1,class:"d-flex me-5"},So=se(()=>s("label",{class:"codefont me-1"},"Name:",-1)),Eo=se(()=>s("label",{class:"codefont me-1 ms-1"},"Goons Needed:",-1)),Ao={class:"d-flex align-items-center ms-5 pe-3"},Io={class:"m-0 mb-1"},Oo={key:0,class:"d-flex align-items-center"},$o=["id"],Do={class:"accordion-body bg-info scroll"},No={class:"text-end"};function Ro(a,e,o,t,n,c){const r=x("Task");return u(),_("div",vo,[s("div",ho,[s("div",go,[s("div",bo,[s("div",{class:"d-flex align-item-center selectable1","data-bs-toggle":"collapse","data-bs-target":"#a"+o.sprint.id+"a","aria-expanded":"false","aria-controls":"collapseOne"},[s("div",yo,[s("p",xo,m(o.sprint.name),1)])],8,ko),o.sprint.isOpen?(u(),_("i",wo,[s("span",jo,m(t.countTotalWeight(t.tasks)),1)])):v("",!0),s("div",To,[s("div",Co,[t.addTaskBtn===!0?(u(),_("button",{key:0,"aria-label":"add a task",class:"codefont me-5 btn btn-outline-dark rounded-0",onClick:e[0]||(e[0]=l=>t.addTaskBtn=!t.addTaskBtn)}," add task ")):(u(),_("div",Po,[s("form",null,[So,b(s("input",{class:"codefont me-3 mt-1",type:"text",placeholder:"...task name",required:"",name:"title","onUpdate:modelValue":e[1]||(e[1]=l=>t.taskData.name=l)},null,512),[[C,t.taskData.name]]),Eo,b(s("input",{class:"codefont weightsize me-1",type:"number",required:"",placeholder:"1",min:"1",max:"50",name:"weight","onUpdate:modelValue":e[2]||(e[2]=l=>t.taskData.weight=l)},null,512),[[C,t.taskData.weight]]),s("i",{class:"mdi mdi-check colorcheck mdi-18px me-2 selectable1",onClick:e[3]||(e[3]=(...l)=>t.createTask&&t.createTask(...l))}),s("i",{onClick:e[4]||(e[4]=l=>t.addTaskBtn=!t.addTaskBtn),class:"mdi mdi-close mdi-18px selectable1 text-danger ms-1"})])]))]),s("div",Ao,[s("p",Io," Tasks Completed "+m(t.tasks.filter(l=>l.isComplete).length)+"/"+m(t.tasks.length),1)]),t.tasks.length===0&&o.sprint.creatorId===t.account.id?(u(),_("div",Oo,[s("i",{onClick:e[5]||(e[5]=(...l)=>t.removeSprint&&t.removeSprint(...l)),class:"mdi mdi-trash-can text-danger m-0 selectable"})])):v("",!0)])])]),t.tasks.length>0?(u(),_("div",{key:0,id:"a"+o.sprint.id+"a",class:"accordion collapse collapsestyle","aria-labelledby":"","data-bs-parent":"#accordionExample"},[s("div",Do,[(u(!0),_(w,null,N(t.tasks,l=>(u(),ge(r,{key:l.id,task:l},null,8,["task"]))),128)),s("div",No,[o.sprint.creatorId===t.account.id?(u(),_("i",{key:0,onClick:e[6]||(e[6]=(...l)=>t.removeSprint&&t.removeSprint(...l)),class:"mdi mdi-18px mdi-trash-can selectable1 text-danger ms-1 text-end"}," Delete Scheme")):v("",!0)])])],8,$o)):v("",!0)])])}var Mo=k(fo,[["render",Ro],["__scopeId","data-v-6e0d8d10"]]),Lo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mo});class Bo{timeAgo(e){return be(e).fromNow()}}const ae=new Bo;const qo={props:{task:{type:Object,required:!0}},setup(a){const e=D();return{route:e,sprints:g(()=>i.sprints),notes:g(()=>i.notes.filter(o=>o.taskId===a.task.id)),account:g(()=>i.account),async toggleTask(){try{await L.editTask(a.task,e.params.projectId,a.task.id)}catch(o){d.log(o),f.toast(o.message,"error")}},async moveTask(o){try{await L.editTask({sprintId:o},e.params.projectId,a.task.id),f.toast("Task Moved","success")}catch(t){d.error(t),f.toast(t.message,"error")}}}}},ne=a=>(P("data-v-5f6ccfea"),a=a(),S(),a),Uo={class:"task row mb-3"},Vo={class:"is-complete me-3"},Ho=["data-bs-target"],zo={class:"m-0"},Fo={class:"col-3 d-flex"},Go={key:0,class:"dropdown d-flex"},Wo={key:0,class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},Jo={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Ko=["onClick"],Yo={class:"m-0 text-center"},Qo={class:"col-12 d-flex ps-5"},Zo=ne(()=>s("i",{class:"mdi mdi-account-group pe-3"},null,-1)),Xo=ne(()=>s("i",{class:"mdi mdi-chat"},null,-1));function es(a,e,o,t,n,c){const r=x("taskOffCanvas");return u(),_(w,null,[s("div",Uo,[s("div",Vo,[b(s("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=l=>o.task.isComplete=l),onChange:e[1]||(e[1]=(...l)=>t.toggleTask&&t.toggleTask(...l))},null,544),[[ke,o.task.isComplete]])]),s("div",{"data-bs-toggle":"offcanvas","data-bs-target":"#a"+o.task.id+"a","aria-controls":"offcanvasRight",class:"col-4 border border-dark border-3 selectable"},[s("p",zo,m(o.task.name.toUpperCase()),1)],8,Ho),s("div",Fo,[o.task.creatorId===t.account.id?(u(),_("div",Go,[t.sprints.length>1?(u(),_("button",Wo," Move Task ")):v("",!0),s("ul",Jo,[(u(!0),_(w,null,N(t.sprints,l=>(u(),_("li",{onClick:y=>t.moveTask(l.id),key:l.id,class:V(o.task.sprintId===l.id?"visually-hidden dropdown-item":"dropdown-item")},[s("p",Yo,m(l.name.toUpperCase()),1)],10,Ko))),128))])])):v("",!0)]),s("div",Qo,[s("span",null,[J(m(o.task.weight)+" ",1),Zo]),s("span",null,[J(m(t.notes.length)+" ",1),Xo])])]),j(r,{task:o.task,notes:t.notes},null,8,["task","notes"])],64)}var ts=k(qo,[["render",es],["__scopeId","data-v-5f6ccfea"]]),os=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ts});const ss={setup(){return{}}},as={class:"taskDetailsCanvas"};function ns(a,e,o,t,n,c){return u(),_("div",as)}var rs=k(ss,[["render",ns]]),cs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rs});const is={props:{task:{type:Object,required:!0},notes:{type:Array,required:!0}},setup(a){const e=D(),o=T(""),t=T({});return W(()=>{t.value=U({},a.task)}),{account:g(()=>i.account),route:e,noteData:o,taskData:t,async createNote(){try{await te.createNote({body:o.value,taskId:t.value.id},e.params.projectId),o.value=""}catch(n){d.error(n),f.toast(n.message,"error")}},async removeNote(n){try{await f.confirm()&&await te.remove(e.params.projectId,n)}catch(c){d.log(c),f.toast(c.message,"error")}},async removeTask(){try{if(await f.confirm()){await L.removeTask(e.params.id,a.task.id);let n=document.getElementById("a"+a.task.id+"a");ye.getOrCreateInstance(n).close()}}catch(n){d.log(n)}},timeAgo(n){if(d.log("[CREATED]",n),!n){const r=new Date;return t.completedOn=r,ae.timeAgo(r)}return ae.timeAgo(n)}}}},I=a=>(P("data-v-19b5b214"),a=a(),S(),a),ls=["id"],ds={class:"offcanvas-header"},us={class:"offcanvas-title class",id:"offcanvasBottomLabel"},_s=I(()=>s("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1)),ms={class:"offcanvas-body"},ps={class:"d-flex justify-content-between align-items-center"},fs=I(()=>s("div",{class:"card line"},null,-1)),vs={class:"d-flex justify-content-center align-items-center"},hs={class:"d-flex justify-content-center align-items-center"},gs={key:0},bs={key:0,class:"d-flex justify-content-center align-items-center"},ks=I(()=>s("div",{class:"offcanvas-header border-bottom border-dark border-3 justify-content-center d-flex"},[s("h4",null,"Notes")],-1)),ys=I(()=>s("div",{class:"d-flex justify-content-start mt-3"},[s("h5",null,"Add a Note:")],-1)),xs={class:"mt-3 mb-3 input-group d-flex flex-row justify-content-center"},ws=I(()=>s("i",{class:"mdi mdi-send"},null,-1)),js=[ws],Ts={class:"col-12 scroll d-flex flex-column"},Cs={key:0,class:"d-flex ms-3"},Ps=["onClick"],Ss={class:"right-bubble bg-dark d-flex justify-content-end rounded"},Es={class:"me-2"},As={class:"ps-2 mt-1 m-0 me-5 text-white"},Is={class:"d-flex flex-column align-items-center"},Os=["src"],$s={class:"me-1 mt-1 fw-bold"},Ds={key:1,class:"d-flex flex-row justify-content-end"},Ns={class:"d-flex align-self-end"},Rs={class:"d-flex flex-column align-items-center"},Ms=["src"],Ls={class:"mt-1 fw-bold"},Bs={class:"left-bubble rounded bg-dark"},qs={class:"ms-3 pt-1 pe-2"},Us={class:"m-0 ms-5 text-white"};function Vs(a,e,o,t,n,c){return u(),_("div",{class:"offcanvas offcanvas-end",tabindex:"-1",id:"a"+o.task.id+"a","aria-labelledby":"offcanvasRightLabel"},[s("div",ds,[s("h5",us,m(o.task.name.toUpperCase())+" - Details ",1),_s]),s("div",ms,[s("div",ps,[s("button",{class:V(o.task.isComplete?"btn rounded-pill btn-dark no-select ":"btn rounded-pill btn-outline-dark no-select ")}," Complete ",2),fs,s("button",{class:V(o.task.isComplete?"btn btn-outline-dark rounded-pill no-select":"btn btn-dark rounded-pill no-select")}," Incomplete ",2)]),s("div",vs,[s("p",null,"Created: "+m(t.timeAgo(o.task.createdAt)),1)]),s("div",hs,[o.task.isComplete?(u(),_("p",gs,"Completed: "+m(t.timeAgo(o.task.completedOn)),1)):v("",!0)]),o.task.creatorId===t.account.id?(u(),_("div",bs,[s("button",{"aria-label":"delete task",class:"btn btn-outline-danger",onClick:e[0]||(e[0]=(...r)=>t.removeTask&&t.removeTask(...r))}," Delete Task ")])):v("",!0),ks,ys,s("div",xs,[b(s("textarea",{class:"border-dark","onUpdate:modelValue":e[1]||(e[1]=r=>t.noteData=r),rows:"2",cols:"35",maxlength:"50"},null,512),[[C,t.noteData]]),s("span",{onClick:e[2]||(e[2]=(...r)=>t.createNote&&t.createNote(...r)),class:"input-group-text bg-dark"},js)]),s("div",Ts,[(u(!0),_(w,null,N(o.notes,r=>(u(),_("div",{key:r.id,class:"note"},[r.creatorId===t.account.id?(u(),_("div",Cs,[s("i",{title:"Remove Note",class:"mdi mdi-trash-can text-secondary selectable1",onClick:l=>t.removeNote(r.id)},null,8,Ps),s("div",Ss,[s("div",Es,[s("p",As,m(r.body),1)])]),s("div",Is,[s("img",{src:t.account.picture,alt:"user photo",height:"40",width:"40",class:"picrounded elevation-3"},null,8,Os),s("p",$s,m(t.account.name),1)])])):(u(),_("div",Ds,[s("div",Ns,[s("div",Rs,[s("img",{src:r.creator.picture,alt:"user photo",height:"40",width:"40",class:"picrounded elevation-3 ms-2"},null,8,Ms),s("p",Ls,m(r.creator.name),1)]),s("div",Bs,[s("div",qs,[s("p",Us,m(r.body),1)])])])]))]))),128))])])],8,ls)}var Hs=k(is,[["render",Vs],["__scopeId","data-v-19b5b214"]]),zs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hs});function Fs(a){Object.entries({"./components/Navbar.vue":ot,"./components/ProfileCanvas.vue":Ot,"./components/Project.vue":Kt,"./components/ProjectFormModal.vue":po,"./components/Sprint.vue":Lo,"./components/Task.vue":os,"./components/TaskDetailsCanvas.vue":cs,"./components/TaskOffCanvas.vue":zs}).forEach(([o,t])=>{const n=t.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");a.component(n,t.default)})}const re=xe(Pe);Fs(re);re.use(Z).mount("#app");export{i as A,f as P,k as _,h as a,Ue as b,d as l,te as n,M as p,at as s,L as t};
